-- Criação da GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Status = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")

-- Configuração da GUI
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
Frame.Position = UDim2.new(0, 10, 0, 10)
Frame.Size = UDim2.new(0, 200, 0, 100)

Title.Parent = Frame
Title.Text = "Automatically GrabGun:"
Title.Size = UDim2.new(1, 0, 0.3, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true

Status.Parent = Frame
Status.Text = "OFF"
Status.Size = UDim2.new(1, 0, 0.3, 0)
Status.Position = UDim2.new(0, 0, 0.3, 0)
Status.BackgroundTransparency = 1
Status.TextColor3 = Color3.fromRGB(255, 255, 255)
Status.TextScaled = true

ToggleButton.Parent = Frame
ToggleButton.Text = "Toggle"
ToggleButton.Size = UDim2.new(1, 0, 0.4, 0)
ToggleButton.Position = UDim2.new(0, 0, 0.6, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextScaled = true

-- Variáveis
local enabled = false
local player = game.Players.LocalPlayer
local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")

-- Função para teleporte
local function teleportToGun()
    local gunDrop = game.Workspace:FindFirstChild("GunDrop")
    
    if gunDrop and hrp then
        -- Teleportar 5 studs acima do GunDrop
        hrp.CFrame = gunDrop.CFrame * CFrame.new(0, 5, 0)
        wait(0.1)  -- Pequeno delay para verificar
        -- Verificar se o GunDrop sumiu
        if not game.Workspace:FindFirstChild("GunDrop") then
            local map = game.Workspace:FindFirstChild("Map")
            if map then
                hrp.CFrame = map.CFrame
            end
        end
    end
end

-- Loop do auto grab
local function autoGrabGun()
    while enabled do
        teleportToGun()
        wait(1)  -- Verificar a cada segundo
    end
end

-- Toggle da funcionalidade
ToggleButton.MouseButton1Click:Connect(function()
    enabled = not enabled
    Status.Text = enabled and "ON" or "OFF"
    
    if enabled then
        autoGrabGun()
    end
end)
